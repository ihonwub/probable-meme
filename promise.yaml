apiVersion: platform.kratix.io/v1alpha1
kind: Promise
metadata:
  creationTimestamp: null
  labels:
    kratix.io/promise-version: v0.0.1
  name: vpc
  finalizers:
    - kratix.io/promise-cleanup
spec:
  api:
    apiVersion: apiextensions.k8s.io/v1
    kind: CustomResourceDefinition
    metadata:
      name: vpcs.syntasso.io
    spec:
      group: syntasso.io
      names:
        kind: VPC
        plural: vpcs
        singular: vpc
      scope: Namespaced
      versions:
        - name: v1alpha1
          schema:
            openAPIV3Schema:
              properties:
                spec:
                  required:
                    - name
                    - cidr
                    - enable_nat_gateway
                  properties:
                    amazon_side_asn:
                      default: "64512"
                      description:
                        The Autonomous System Number (ASN) for the Amazon
                        side of the gateway. By default the virtual private gateway
                        is created with the current default Amazon ASN
                      type: string
                    azs:
                      default: null
                      description:
                        A list of availability zones names or ids in the
                        region
                      items:
                        type: string
                      type: array
                    cidr:
                      default: 10.0.0.0/16
                      description:
                        (Optional) The IPv4 CIDR block for the VPC. CIDR
                        can be explicitly set or it can be derived from IPAM using `ipv4_netmask_length`
                        & `ipv4_ipam_pool_id`
                      type: string
                    create_database_internet_gateway_route:
                      default: false
                      description:
                        Controls if an internet gateway route for public
                        database access should be created
                      type: boolean
                    create_database_nat_gateway_route:
                      default: false
                      description:
                        Controls if a nat gateway route should be created
                        to give internet access to the database subnets
                      type: boolean
                    create_database_subnet_group:
                      default: true
                      description:
                        Controls if database subnet group should be created
                        (n.b. database_subnets must also be set)
                      type: boolean
                    create_database_subnet_route_table:
                      default: false
                      description:
                        Controls if separate route table for database should
                        be created
                      type: boolean
                    create_egress_only_igw:
                      default: true
                      description:
                        Controls if an Egress Only Internet Gateway is created
                        and its related routes
                      type: boolean
                    create_elasticache_subnet_group:
                      default: true
                      description: Controls if elasticache subnet group should be created
                      type: boolean
                    create_elasticache_subnet_route_table:
                      default: false
                      description:
                        Controls if separate route table for elasticache
                        should be created
                      type: boolean
                    create_flow_log_cloudwatch_iam_role:
                      default: false
                      description: Whether to create IAM role for VPC Flow Logs
                      type: boolean
                    create_flow_log_cloudwatch_log_group:
                      default: false
                      description:
                        Whether to create CloudWatch log group for VPC Flow
                        Logs
                      type: boolean
                    create_igw:
                      default: true
                      description:
                        Controls if an Internet Gateway is created for public
                        subnets and the related routes that connect them
                      type: boolean
                    create_multiple_intra_route_tables:
                      default: false
                      description:
                        "Indicates whether to create a separate route table
                        for each intra subnet. Default: `false`"
                      type: boolean
                    create_multiple_public_route_tables:
                      default: false
                      description:
                        "Indicates whether to create a separate route table
                        for each public subnet. Default: `false`"
                      type: boolean
                    create_private_nat_gateway_route:
                      default: true
                      description:
                        Controls if a nat gateway route should be created
                        to give internet access to the private subnets
                      type: boolean
                    create_redshift_subnet_group:
                      default: true
                      description: Controls if redshift subnet group should be created
                      type: boolean
                    create_redshift_subnet_route_table:
                      default: false
                      description:
                        Controls if separate route table for redshift should
                        be created
                      type: boolean
                    create_vpc:
                      default: true
                      description:
                        Controls if VPC should be created (it affects almost
                        all resources)
                      type: boolean
                    customer_gateway_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the Customer Gateway
                      type: object
                    customer_gateways:
                      additionalProperties:
                        type: object
                        x-kubernetes-preserve-unknown-fields: true
                      default: {}
                      description:
                        Maps of Customer Gateway's attributes (BGP ASN and
                        Gateway's Internet-routable external IP address)
                      type: object
                    customer_owned_ipv4_pool:
                      description:
                        The customer owned IPv4 address pool. Typically used
                        with the `map_customer_owned_ip_on_launch` argument. The `outpost_arn`
                        argument must be specified when configured
                      type: string
                    database_acl_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description:
                        Additional tags for the database subnets network
                        ACL
                      type: object
                    database_dedicated_network_acl:
                      default: false
                      description:
                        Whether to use dedicated network ACL (not default)
                        and custom rules for database subnets
                      type: boolean
                    database_inbound_acl_rules:
                      default:
                        - {}
                      description: Database subnets inbound network ACL rules
                      items:
                        additionalProperties:
                          type: string
                        type: object
                      type: array
                    database_outbound_acl_rules:
                      default:
                        - {}
                      description: Database subnets outbound network ACL rules
                      items:
                        additionalProperties:
                          type: string
                        type: object
                      type: array
                    database_route_table_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the database route tables
                      type: object
                    database_subnet_assign_ipv6_address_on_creation:
                      default: false
                      description:
                        Specify true to indicate that network interfaces
                        created in the specified subnet should be assigned an IPv6 address.
                        Default is `false`
                      type: boolean
                    database_subnet_enable_dns64:
                      default: true
                      description:
                        "Indicates whether DNS queries made to the Amazon-provided
                        DNS Resolver in this subnet should return synthetic IPv6 addresses
                        for IPv4-only destinations. Default: `true`"
                      type: boolean
                    database_subnet_enable_resource_name_dns_a_record_on_launch:
                      default: false
                      description:
                        "Indicates whether to respond to DNS queries for
                        instance hostnames with DNS A records. Default: `false`"
                      type: boolean
                    database_subnet_enable_resource_name_dns_aaaa_record_on_launch:
                      default: true
                      description:
                        "Indicates whether to respond to DNS queries for
                        instance hostnames with DNS AAAA records. Default: `true`"
                      type: boolean
                    database_subnet_group_name:
                      description: Name of database subnet group
                      type: string
                    database_subnet_group_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the database subnet group
                      type: object
                    database_subnet_ipv6_native:
                      default: false
                      description:
                        "Indicates whether to create an IPv6-only subnet.
                        Default: `false`"
                      type: boolean
                    database_subnet_ipv6_prefixes:
                      default: null
                      description:
                        Assigns IPv6 database subnet id based on the Amazon
                        provided /56 prefix base 10 integer (0-256). Must be of equal
                        length to the corresponding IPv4 subnet list
                      items:
                        type: string
                      type: array
                    database_subnet_names:
                      default: null
                      description:
                        Explicit values to use in the Name tag on database
                        subnets. If empty, Name tags are generated
                      items:
                        type: string
                      type: array
                    database_subnet_private_dns_hostname_type_on_launch:
                      description:
                        "The type of hostnames to assign to instances in
                        the subnet at launch. For IPv6-only subnets, an instance DNS
                        name must be based on the instance ID. For dual-stack and IPv4-only
                        subnets, you can specify whether DNS names use the instance
                        IPv4 address or the instance ID. Valid values: `ip-name`, `resource-name`"
                      type: string
                    database_subnet_suffix:
                      default: db
                      description: Suffix to append to database subnets name
                      type: string
                    database_subnet_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the database subnets
                      type: object
                    database_subnets:
                      default: null
                      description: A list of database subnets inside the VPC
                      items:
                        type: string
                      type: array
                    default_network_acl_egress:
                      default:
                        - {}
                        - {}
                      description:
                        List of maps of egress rules to set on the Default
                        Network ACL
                      items:
                        additionalProperties:
                          type: string
                        type: object
                      type: array
                    default_network_acl_ingress:
                      default:
                        - {}
                        - {}
                      description:
                        List of maps of ingress rules to set on the Default
                        Network ACL
                      items:
                        additionalProperties:
                          type: string
                        type: object
                      type: array
                    default_network_acl_name:
                      description: Name to be used on the Default Network ACL
                      type: string
                    default_network_acl_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the Default Network ACL
                      type: object
                    default_route_table_name:
                      description: Name to be used on the default route table
                      type: string
                    default_route_table_propagating_vgws:
                      default: null
                      description: List of virtual gateways for propagation
                      items:
                        type: string
                      type: array
                    default_route_table_routes:
                      default: null
                      description: Configuration block of routes. See https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/default_route_table#route
                      items:
                        additionalProperties:
                          type: string
                        type: object
                      type: array
                    default_route_table_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the default route table
                      type: object
                    default_security_group_egress:
                      default: null
                      description:
                        List of maps of egress rules to set on the default
                        security group
                      items:
                        additionalProperties:
                          type: string
                        type: object
                      type: array
                    default_security_group_ingress:
                      default: null
                      description:
                        List of maps of ingress rules to set on the default
                        security group
                      items:
                        additionalProperties:
                          type: string
                        type: object
                      type: array
                    default_security_group_name:
                      description: Name to be used on the default security group
                      type: string
                    default_security_group_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the default security group
                      type: object
                    default_vpc_enable_dns_hostnames:
                      default: true
                      description:
                        Should be true to enable DNS hostnames in the Default
                        VPC
                      type: boolean
                    default_vpc_enable_dns_support:
                      default: true
                      description:
                        Should be true to enable DNS support in the Default
                        VPC
                      type: boolean
                    default_vpc_name:
                      description: Name to be used on the Default VPC
                      type: string
                    default_vpc_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the Default VPC
                      type: object
                    dhcp_options_domain_name:
                      default: ""
                      description:
                        Specifies DNS name for DHCP options set (requires
                        enable_dhcp_options set to true)
                      type: string
                    dhcp_options_domain_name_servers:
                      default:
                        - "AmazonProvidedDNS"
                      description:
                        Specify a list of DNS server addresses for DHCP options
                        set, default to AWS provided (requires enable_dhcp_options set
                        to true)
                      items:
                        type: string
                      type: array
                    dhcp_options_ipv6_address_preferred_lease_time:
                      description:
                        How frequently, in seconds, a running instance with
                        an IPv6 assigned to it goes through DHCPv6 lease renewal (requires
                        enable_dhcp_options set to true)
                      type: number
                    dhcp_options_netbios_name_servers:
                      default: null
                      description:
                        Specify a list of netbios servers for DHCP options
                        set (requires enable_dhcp_options set to true)
                      items:
                        type: string
                      type: array
                    dhcp_options_netbios_node_type:
                      default: ""
                      description:
                        Specify netbios node_type for DHCP options set (requires
                        enable_dhcp_options set to true)
                      type: string
                    dhcp_options_ntp_servers:
                      default: null
                      description:
                        Specify a list of NTP servers for DHCP options set
                        (requires enable_dhcp_options set to true)
                      items:
                        type: string
                      type: array
                    dhcp_options_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description:
                        Additional tags for the DHCP option set (requires
                        enable_dhcp_options set to true)
                      type: object
                    elasticache_acl_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description:
                        Additional tags for the elasticache subnets network
                        ACL
                      type: object
                    elasticache_dedicated_network_acl:
                      default: false
                      description:
                        Whether to use dedicated network ACL (not default)
                        and custom rules for elasticache subnets
                      type: boolean
                    elasticache_inbound_acl_rules:
                      default:
                        - {}
                      description: Elasticache subnets inbound network ACL rules
                      items:
                        additionalProperties:
                          type: string
                        type: object
                      type: array
                    elasticache_outbound_acl_rules:
                      default:
                        - {}
                      description: Elasticache subnets outbound network ACL rules
                      items:
                        additionalProperties:
                          type: string
                        type: object
                      type: array
                    elasticache_route_table_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the elasticache route tables
                      type: object
                    elasticache_subnet_assign_ipv6_address_on_creation:
                      default: false
                      description:
                        Specify true to indicate that network interfaces
                        created in the specified subnet should be assigned an IPv6 address.
                        Default is `false`
                      type: boolean
                    elasticache_subnet_enable_dns64:
                      default: true
                      description:
                        "Indicates whether DNS queries made to the Amazon-provided
                        DNS Resolver in this subnet should return synthetic IPv6 addresses
                        for IPv4-only destinations. Default: `true`"
                      type: boolean
                    elasticache_subnet_enable_resource_name_dns_a_record_on_launch:
                      default: false
                      description:
                        "Indicates whether to respond to DNS queries for
                        instance hostnames with DNS A records. Default: `false`"
                      type: boolean
                    elasticache_subnet_enable_resource_name_dns_aaaa_record_on_launch:
                      default: true
                      description:
                        "Indicates whether to respond to DNS queries for
                        instance hostnames with DNS AAAA records. Default: `true`"
                      type: boolean
                    elasticache_subnet_group_name:
                      description: Name of elasticache subnet group
                      type: string
                    elasticache_subnet_group_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the elasticache subnet group
                      type: object
                    elasticache_subnet_ipv6_native:
                      default: false
                      description:
                        "Indicates whether to create an IPv6-only subnet.
                        Default: `false`"
                      type: boolean
                    elasticache_subnet_ipv6_prefixes:
                      default: null
                      description:
                        Assigns IPv6 elasticache subnet id based on the Amazon
                        provided /56 prefix base 10 integer (0-256). Must be of equal
                        length to the corresponding IPv4 subnet list
                      items:
                        type: string
                      type: array
                    elasticache_subnet_names:
                      default: null
                      description:
                        Explicit values to use in the Name tag on elasticache
                        subnets. If empty, Name tags are generated
                      items:
                        type: string
                      type: array
                    elasticache_subnet_private_dns_hostname_type_on_launch:
                      description:
                        "The type of hostnames to assign to instances in
                        the subnet at launch. For IPv6-only subnets, an instance DNS
                        name must be based on the instance ID. For dual-stack and IPv4-only
                        subnets, you can specify whether DNS names use the instance
                        IPv4 address or the instance ID. Valid values: `ip-name`, `resource-name`"
                      type: string
                    elasticache_subnet_suffix:
                      default: elasticache
                      description: Suffix to append to elasticache subnets name
                      type: string
                    elasticache_subnet_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the elasticache subnets
                      type: object
                    elasticache_subnets:
                      default: null
                      description: A list of elasticache subnets inside the VPC
                      items:
                        type: string
                      type: array
                    enable_dhcp_options:
                      default: false
                      description:
                        Should be true if you want to specify a DHCP options
                        set with a custom domain name, DNS servers, NTP servers, netbios
                        servers, and/or netbios server type
                      type: boolean
                    enable_dns_hostnames:
                      default: true
                      description: Should be true to enable DNS hostnames in the VPC
                      type: boolean
                    enable_dns_support:
                      default: true
                      description: Should be true to enable DNS support in the VPC
                      type: boolean
                    enable_flow_log:
                      default: false
                      description: Whether or not to enable VPC Flow Logs
                      type: boolean
                    enable_ipv6:
                      default: false
                      description:
                        Requests an Amazon-provided IPv6 CIDR block with
                        a /56 prefix length for the VPC. You cannot specify the range
                        of IP addresses, or the size of the CIDR block
                      type: boolean
                    enable_nat_gateway:
                      default: false
                      description:
                        Should be true if you want to provision NAT Gateways
                        for each of your private networks
                      type: boolean
                    enable_network_address_usage_metrics:
                      description:
                        Determines whether network address usage metrics
                        are enabled for the VPC
                      type: boolean
                    enable_public_redshift:
                      default: false
                      description: Controls if redshift should have public routing table
                      type: boolean
                    enable_vpn_gateway:
                      default: false
                      description:
                        Should be true if you want to create a new VPN Gateway
                        resource and attach it to the VPC
                      type: boolean
                    external_nat_ip_ids:
                      default: null
                      description:
                        List of EIP IDs to be assigned to the NAT Gateways
                        (used in combination with reuse_nat_ips)
                      items:
                        type: string
                      type: array
                    external_nat_ips:
                      default: null
                      description:
                        List of EIPs to be used for `nat_public_ips` output
                        (used in combination with reuse_nat_ips and external_nat_ip_ids)
                      items:
                        type: string
                      type: array
                    flow_log_cloudwatch_iam_role_arn:
                      default: ""
                      description:
                        The ARN for the IAM role that's used to post flow
                        logs to a CloudWatch Logs log group. When flow_log_destination_arn
                        is set to ARN of Cloudwatch Logs, this argument needs to be
                        provided
                      type: string
                    flow_log_cloudwatch_iam_role_conditions:
                      description:
                        Additional conditions of the CloudWatch role assumption
                        policy
                      items:
                        type: object
                        x-kubernetes-preserve-unknown-fields: true
                      type: array
                    flow_log_cloudwatch_log_group_class:
                      description:
                        "Specified the log class of the log group. Possible
                        values are: STANDARD or INFREQUENT_ACCESS"
                      type: string
                    flow_log_cloudwatch_log_group_kms_key_id:
                      description:
                        The ARN of the KMS Key to use when encrypting log
                        data for VPC flow logs
                      type: string
                    flow_log_cloudwatch_log_group_name_prefix:
                      default: /aws/vpc-flow-log/
                      description:
                        Specifies the name prefix of CloudWatch Log Group
                        for VPC flow logs
                      type: string
                    flow_log_cloudwatch_log_group_name_suffix:
                      default: ""
                      description:
                        Specifies the name suffix of CloudWatch Log Group
                        for VPC flow logs
                      type: string
                    flow_log_cloudwatch_log_group_retention_in_days:
                      description:
                        Specifies the number of days you want to retain log
                        events in the specified log group for VPC flow logs
                      type: number
                    flow_log_cloudwatch_log_group_skip_destroy:
                      default: false
                      description:
                        " Set to true if you do not wish the log group (and
                        any logs it may contain) to be deleted at destroy time, and
                        instead just remove the log group from the Terraform state"
                      type: boolean
                    flow_log_deliver_cross_account_role:
                      description:
                        (Optional) ARN of the IAM role that allows Amazon
                        EC2 to publish flow logs across accounts.
                      type: string
                    flow_log_destination_arn:
                      default: ""
                      description:
                        The ARN of the CloudWatch log group or S3 bucket
                        where VPC Flow Logs will be pushed. If this ARN is a S3 bucket
                        the appropriate permissions need to be set on that bucket's
                        policy. When create_flow_log_cloudwatch_log_group is set to
                        false this argument must be provided
                      type: string
                    flow_log_destination_type:
                      default: cloud-watch-logs
                      description:
                        Type of flow log destination. Can be s3, kinesis-data-firehose
                        or cloud-watch-logs
                      type: string
                    flow_log_file_format:
                      description:
                        "(Optional) The format for the flow log. Valid values:
                        `plain-text`, `parquet`"
                      type: string
                    flow_log_hive_compatible_partitions:
                      default: false
                      description:
                        (Optional) Indicates whether to use Hive-compatible
                        prefixes for flow logs stored in Amazon S3
                      type: boolean
                    flow_log_log_format:
                      description:
                        The fields to include in the flow log record, in
                        the order in which they should appear
                      type: string
                    flow_log_max_aggregation_interval:
                      default: 600
                      description:
                        "The maximum interval of time during which a flow
                        of packets is captured and aggregated into a flow log record.
                        Valid Values: `60` seconds or `600` seconds"
                      type: number
                    flow_log_per_hour_partition:
                      default: false
                      description:
                        (Optional) Indicates whether to partition the flow
                        log per hour. This reduces the cost and response time for queries
                      type: boolean
                    flow_log_traffic_type:
                      default: ALL
                      description:
                        "The type of traffic to capture. Valid values: ACCEPT,
                        REJECT, ALL"
                      type: string
                    igw_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the internet gateway
                      type: object
                    instance_tenancy:
                      default: default
                      description:
                        A tenancy option for instances launched into the
                        VPC
                      type: string
                    intra_acl_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the intra subnets network ACL
                      type: object
                    intra_dedicated_network_acl:
                      default: false
                      description:
                        Whether to use dedicated network ACL (not default)
                        and custom rules for intra subnets
                      type: boolean
                    intra_inbound_acl_rules:
                      default:
                        - {}
                      description: Intra subnets inbound network ACLs
                      items:
                        additionalProperties:
                          type: string
                        type: object
                      type: array
                    intra_outbound_acl_rules:
                      default:
                        - {}
                      description: Intra subnets outbound network ACLs
                      items:
                        additionalProperties:
                          type: string
                        type: object
                      type: array
                    intra_route_table_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the intra route tables
                      type: object
                    intra_subnet_assign_ipv6_address_on_creation:
                      default: false
                      description:
                        Specify true to indicate that network interfaces
                        created in the specified subnet should be assigned an IPv6 address.
                        Default is `false`
                      type: boolean
                    intra_subnet_enable_dns64:
                      default: true
                      description:
                        "Indicates whether DNS queries made to the Amazon-provided
                        DNS Resolver in this subnet should return synthetic IPv6 addresses
                        for IPv4-only destinations. Default: `true`"
                      type: boolean
                    intra_subnet_enable_resource_name_dns_a_record_on_launch:
                      default: false
                      description:
                        "Indicates whether to respond to DNS queries for
                        instance hostnames with DNS A records. Default: `false`"
                      type: boolean
                    intra_subnet_enable_resource_name_dns_aaaa_record_on_launch:
                      default: true
                      description:
                        "Indicates whether to respond to DNS queries for
                        instance hostnames with DNS AAAA records. Default: `true`"
                      type: boolean
                    intra_subnet_ipv6_native:
                      default: false
                      description:
                        "Indicates whether to create an IPv6-only subnet.
                        Default: `false`"
                      type: boolean
                    intra_subnet_ipv6_prefixes:
                      default: null
                      description:
                        Assigns IPv6 intra subnet id based on the Amazon
                        provided /56 prefix base 10 integer (0-256). Must be of equal
                        length to the corresponding IPv4 subnet list
                      items:
                        type: string
                      type: array
                    intra_subnet_names:
                      default: null
                      description:
                        Explicit values to use in the Name tag on intra subnets.
                        If empty, Name tags are generated
                      items:
                        type: string
                      type: array
                    intra_subnet_private_dns_hostname_type_on_launch:
                      description:
                        "The type of hostnames to assign to instances in
                        the subnet at launch. For IPv6-only subnets, an instance DNS
                        name must be based on the instance ID. For dual-stack and IPv4-only
                        subnets, you can specify whether DNS names use the instance
                        IPv4 address or the instance ID. Valid values: `ip-name`, `resource-name`"
                      type: string
                    intra_subnet_suffix:
                      default: intra
                      description: Suffix to append to intra subnets name
                      type: string
                    intra_subnet_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the intra subnets
                      type: object
                    intra_subnets:
                      default: null
                      description: A list of intra subnets inside the VPC
                      items:
                        type: string
                      type: array
                    ipv4_ipam_pool_id:
                      description:
                        (Optional) The ID of an IPv4 IPAM pool you want to
                        use for allocating this VPC's CIDR
                      type: string
                    ipv4_netmask_length:
                      description:
                        (Optional) The netmask length of the IPv4 CIDR you
                        want to allocate to this VPC. Requires specifying a ipv4_ipam_pool_id
                      type: number
                    ipv6_cidr:
                      description:
                        (Optional) IPv6 CIDR block to request from an IPAM
                        Pool. Can be set explicitly or derived from IPAM using `ipv6_netmask_length`
                      type: string
                    ipv6_cidr_block_network_border_group:
                      description:
                        By default when an IPv6 CIDR is assigned to a VPC
                        a default ipv6_cidr_block_network_border_group will be set to
                        the region of the VPC. This can be changed to restrict advertisement
                        of public addresses to specific Network Border Groups such as
                        LocalZones
                      type: string
                    ipv6_ipam_pool_id:
                      description:
                        (Optional) IPAM Pool ID for a IPv6 pool. Conflicts
                        with `assign_generated_ipv6_cidr_block`
                      type: string
                    ipv6_netmask_length:
                      description:
                        "(Optional) Netmask length to request from IPAM Pool.
                        Conflicts with `ipv6_cidr_block`. This can be omitted if IPAM
                        pool as a `allocation_default_netmask_length` set. Valid values:
                        `56`"
                      type: number
                    manage_default_network_acl:
                      default: true
                      description:
                        Should be true to adopt and manage Default Network
                        ACL
                      type: boolean
                    manage_default_route_table:
                      default: true
                      description: Should be true to manage default route table
                      type: boolean
                    manage_default_security_group:
                      default: true
                      description:
                        Should be true to adopt and manage default security
                        group
                      type: boolean
                    manage_default_vpc:
                      default: false
                      description: Should be true to adopt and manage Default VPC
                      type: boolean
                    map_customer_owned_ip_on_launch:
                      default: false
                      description:
                        Specify true to indicate that network interfaces
                        created in the subnet should be assigned a customer owned IP
                        address. The `customer_owned_ipv4_pool` and `outpost_arn` arguments
                        must be specified when set to `true`. Default is `false`
                      type: boolean
                    map_public_ip_on_launch:
                      default: false
                      description:
                        Specify true to indicate that instances launched
                        into the subnet should be assigned a public IP address. Default
                        is `false`
                      type: boolean
                    name:
                      default: ""
                      description: Name to be used on all the resources as identifier
                      type: string
                    nat_eip_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the NAT EIP
                      type: object
                    nat_gateway_destination_cidr_block:
                      default: 0.0.0.0/0
                      description:
                        Used to pass a custom destination route for private
                        NAT Gateway. If not specified, the default 0.0.0.0/0 is used
                        as a destination route
                      type: string
                    nat_gateway_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the NAT gateways
                      type: object
                    one_nat_gateway_per_az:
                      default: false
                      description:
                        Should be true if you want only one NAT Gateway per
                        availability zone. Requires `var.azs` to be set, and the number
                        of `public_subnets` created to be greater than or equal to the
                        number of availability zones specified in `var.azs`
                      type: boolean
                    outpost_acl_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the outpost subnets network ACL
                      type: object
                    outpost_arn:
                      description: ARN of Outpost you want to create a subnet in
                      type: string
                    outpost_az:
                      description: AZ where Outpost is anchored
                      type: string
                    outpost_dedicated_network_acl:
                      default: false
                      description:
                        Whether to use dedicated network ACL (not default)
                        and custom rules for outpost subnets
                      type: boolean
                    outpost_inbound_acl_rules:
                      default:
                        - {}
                      description: Outpost subnets inbound network ACLs
                      items:
                        additionalProperties:
                          type: string
                        type: object
                      type: array
                    outpost_outbound_acl_rules:
                      default:
                        - {}
                      description: Outpost subnets outbound network ACLs
                      items:
                        additionalProperties:
                          type: string
                        type: object
                      type: array
                    outpost_subnet_assign_ipv6_address_on_creation:
                      default: false
                      description:
                        Specify true to indicate that network interfaces
                        created in the specified subnet should be assigned an IPv6 address.
                        Default is `false`
                      type: boolean
                    outpost_subnet_enable_dns64:
                      default: true
                      description:
                        "Indicates whether DNS queries made to the Amazon-provided
                        DNS Resolver in this subnet should return synthetic IPv6 addresses
                        for IPv4-only destinations. Default: `true`"
                      type: boolean
                    outpost_subnet_enable_resource_name_dns_a_record_on_launch:
                      default: false
                      description:
                        "Indicates whether to respond to DNS queries for
                        instance hostnames with DNS A records. Default: `false`"
                      type: boolean
                    outpost_subnet_enable_resource_name_dns_aaaa_record_on_launch:
                      default: true
                      description:
                        "Indicates whether to respond to DNS queries for
                        instance hostnames with DNS AAAA records. Default: `true`"
                      type: boolean
                    outpost_subnet_ipv6_native:
                      default: false
                      description:
                        "Indicates whether to create an IPv6-only subnet.
                        Default: `false`"
                      type: boolean
                    outpost_subnet_ipv6_prefixes:
                      default: null
                      description:
                        Assigns IPv6 outpost subnet id based on the Amazon
                        provided /56 prefix base 10 integer (0-256). Must be of equal
                        length to the corresponding IPv4 subnet list
                      items:
                        type: string
                      type: array
                    outpost_subnet_names:
                      default: null
                      description:
                        Explicit values to use in the Name tag on outpost
                        subnets. If empty, Name tags are generated
                      items:
                        type: string
                      type: array
                    outpost_subnet_private_dns_hostname_type_on_launch:
                      description:
                        "The type of hostnames to assign to instances in
                        the subnet at launch. For IPv6-only subnets, an instance DNS
                        name must be based on the instance ID. For dual-stack and IPv4-only
                        subnets, you can specify whether DNS names use the instance
                        IPv4 address or the instance ID. Valid values: `ip-name`, `resource-name`"
                      type: string
                    outpost_subnet_suffix:
                      default: outpost
                      description: Suffix to append to outpost subnets name
                      type: string
                    outpost_subnet_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the outpost subnets
                      type: object
                    outpost_subnets:
                      default: null
                      description: A list of outpost subnets inside the VPC
                      items:
                        type: string
                      type: array
                    private_acl_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the private subnets network ACL
                      type: object
                    private_dedicated_network_acl:
                      default: false
                      description:
                        Whether to use dedicated network ACL (not default)
                        and custom rules for private subnets
                      type: boolean
                    private_inbound_acl_rules:
                      default:
                        - {}
                      description: Private subnets inbound network ACLs
                      items:
                        additionalProperties:
                          type: string
                        type: object
                      type: array
                    private_outbound_acl_rules:
                      default:
                        - {}
                      description: Private subnets outbound network ACLs
                      items:
                        additionalProperties:
                          type: string
                        type: object
                      type: array
                    private_route_table_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the private route tables
                      type: object
                    private_subnet_assign_ipv6_address_on_creation:
                      default: false
                      description:
                        Specify true to indicate that network interfaces
                        created in the specified subnet should be assigned an IPv6 address.
                        Default is `false`
                      type: boolean
                    private_subnet_enable_dns64:
                      default: true
                      description:
                        "Indicates whether DNS queries made to the Amazon-provided
                        DNS Resolver in this subnet should return synthetic IPv6 addresses
                        for IPv4-only destinations. Default: `true`"
                      type: boolean
                    private_subnet_enable_resource_name_dns_a_record_on_launch:
                      default: false
                      description:
                        "Indicates whether to respond to DNS queries for
                        instance hostnames with DNS A records. Default: `false`"
                      type: boolean
                    private_subnet_enable_resource_name_dns_aaaa_record_on_launch:
                      default: true
                      description:
                        "Indicates whether to respond to DNS queries for
                        instance hostnames with DNS AAAA records. Default: `true`"
                      type: boolean
                    private_subnet_ipv6_native:
                      default: false
                      description:
                        "Indicates whether to create an IPv6-only subnet.
                        Default: `false`"
                      type: boolean
                    private_subnet_ipv6_prefixes:
                      default: null
                      description:
                        Assigns IPv6 private subnet id based on the Amazon
                        provided /56 prefix base 10 integer (0-256). Must be of equal
                        length to the corresponding IPv4 subnet list
                      items:
                        type: string
                      type: array
                    private_subnet_names:
                      default: null
                      description:
                        Explicit values to use in the Name tag on private
                        subnets. If empty, Name tags are generated
                      items:
                        type: string
                      type: array
                    private_subnet_private_dns_hostname_type_on_launch:
                      description:
                        "The type of hostnames to assign to instances in
                        the subnet at launch. For IPv6-only subnets, an instance DNS
                        name must be based on the instance ID. For dual-stack and IPv4-only
                        subnets, you can specify whether DNS names use the instance
                        IPv4 address or the instance ID. Valid values: `ip-name`, `resource-name`"
                      type: string
                    private_subnet_suffix:
                      default: private
                      description: Suffix to append to private subnets name
                      type: string
                    private_subnet_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the private subnets
                      type: object
                    private_subnet_tags_per_az:
                      additionalProperties:
                        additionalProperties:
                          type: string
                        type: object
                      default: {}
                      description:
                        Additional tags for the private subnets where the
                        primary key is the AZ
                      type: object
                    private_subnets:
                      default: null
                      description: A list of private subnets inside the VPC
                      items:
                        type: string
                      type: array
                    propagate_intra_route_tables_vgw:
                      default: false
                      description: Should be true if you want route table propagation
                      type: boolean
                    propagate_private_route_tables_vgw:
                      default: false
                      description: Should be true if you want route table propagation
                      type: boolean
                    propagate_public_route_tables_vgw:
                      default: false
                      description: Should be true if you want route table propagation
                      type: boolean
                    public_acl_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the public subnets network ACL
                      type: object
                    public_dedicated_network_acl:
                      default: false
                      description:
                        Whether to use dedicated network ACL (not default)
                        and custom rules for public subnets
                      type: boolean
                    public_inbound_acl_rules:
                      default:
                        - {}
                      description: Public subnets inbound network ACLs
                      items:
                        additionalProperties:
                          type: string
                        type: object
                      type: array
                    public_outbound_acl_rules:
                      default:
                        - {}
                      description: Public subnets outbound network ACLs
                      items:
                        additionalProperties:
                          type: string
                        type: object
                      type: array
                    public_route_table_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the public route tables
                      type: object
                    public_subnet_assign_ipv6_address_on_creation:
                      default: false
                      description:
                        Specify true to indicate that network interfaces
                        created in the specified subnet should be assigned an IPv6 address.
                        Default is `false`
                      type: boolean
                    public_subnet_enable_dns64:
                      default: true
                      description:
                        "Indicates whether DNS queries made to the Amazon-provided
                        DNS Resolver in this subnet should return synthetic IPv6 addresses
                        for IPv4-only destinations. Default: `true`"
                      type: boolean
                    public_subnet_enable_resource_name_dns_a_record_on_launch:
                      default: false
                      description:
                        "Indicates whether to respond to DNS queries for
                        instance hostnames with DNS A records. Default: `false`"
                      type: boolean
                    public_subnet_enable_resource_name_dns_aaaa_record_on_launch:
                      default: true
                      description:
                        "Indicates whether to respond to DNS queries for
                        instance hostnames with DNS AAAA records. Default: `true`"
                      type: boolean
                    public_subnet_ipv6_native:
                      default: false
                      description:
                        "Indicates whether to create an IPv6-only subnet.
                        Default: `false`"
                      type: boolean
                    public_subnet_ipv6_prefixes:
                      default: null
                      description:
                        Assigns IPv6 public subnet id based on the Amazon
                        provided /56 prefix base 10 integer (0-256). Must be of equal
                        length to the corresponding IPv4 subnet list
                      items:
                        type: string
                      type: array
                    public_subnet_names:
                      default: null
                      description:
                        Explicit values to use in the Name tag on public
                        subnets. If empty, Name tags are generated
                      items:
                        type: string
                      type: array
                    public_subnet_private_dns_hostname_type_on_launch:
                      description:
                        "The type of hostnames to assign to instances in
                        the subnet at launch. For IPv6-only subnets, an instance DNS
                        name must be based on the instance ID. For dual-stack and IPv4-only
                        subnets, you can specify whether DNS names use the instance
                        IPv4 address or the instance ID. Valid values: `ip-name`, `resource-name`"
                      type: string
                    public_subnet_suffix:
                      default: public
                      description: Suffix to append to public subnets name
                      type: string
                    public_subnet_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the public subnets
                      type: object
                    public_subnet_tags_per_az:
                      additionalProperties:
                        additionalProperties:
                          type: string
                        type: object
                      default: {}
                      description:
                        Additional tags for the public subnets where the
                        primary key is the AZ
                      type: object
                    public_subnets:
                      default: null
                      description: A list of public subnets inside the VPC
                      items:
                        type: string
                      type: array
                    putin_khuylo:
                      default: true
                      description:
                        "Do you agree that Putin doesn't respect Ukrainian
                        sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"
                      type: boolean
                    redshift_acl_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description:
                        Additional tags for the redshift subnets network
                        ACL
                      type: object
                    redshift_dedicated_network_acl:
                      default: false
                      description:
                        Whether to use dedicated network ACL (not default)
                        and custom rules for redshift subnets
                      type: boolean
                    redshift_inbound_acl_rules:
                      default:
                        - {}
                      description: Redshift subnets inbound network ACL rules
                      items:
                        additionalProperties:
                          type: string
                        type: object
                      type: array
                    redshift_outbound_acl_rules:
                      default:
                        - {}
                      description: Redshift subnets outbound network ACL rules
                      items:
                        additionalProperties:
                          type: string
                        type: object
                      type: array
                    redshift_route_table_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the redshift route tables
                      type: object
                    redshift_subnet_assign_ipv6_address_on_creation:
                      default: false
                      description:
                        Specify true to indicate that network interfaces
                        created in the specified subnet should be assigned an IPv6 address.
                        Default is `false`
                      type: boolean
                    redshift_subnet_enable_dns64:
                      default: true
                      description:
                        "Indicates whether DNS queries made to the Amazon-provided
                        DNS Resolver in this subnet should return synthetic IPv6 addresses
                        for IPv4-only destinations. Default: `true`"
                      type: boolean
                    redshift_subnet_enable_resource_name_dns_a_record_on_launch:
                      default: false
                      description:
                        "Indicates whether to respond to DNS queries for
                        instance hostnames with DNS A records. Default: `false`"
                      type: boolean
                    redshift_subnet_enable_resource_name_dns_aaaa_record_on_launch:
                      default: true
                      description:
                        "Indicates whether to respond to DNS queries for
                        instance hostnames with DNS AAAA records. Default: `true`"
                      type: boolean
                    redshift_subnet_group_name:
                      description: Name of redshift subnet group
                      type: string
                    redshift_subnet_group_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the redshift subnet group
                      type: object
                    redshift_subnet_ipv6_native:
                      default: false
                      description:
                        "Indicates whether to create an IPv6-only subnet.
                        Default: `false`"
                      type: boolean
                    redshift_subnet_ipv6_prefixes:
                      default: null
                      description:
                        Assigns IPv6 redshift subnet id based on the Amazon
                        provided /56 prefix base 10 integer (0-256). Must be of equal
                        length to the corresponding IPv4 subnet list
                      items:
                        type: string
                      type: array
                    redshift_subnet_names:
                      default: null
                      description:
                        Explicit values to use in the Name tag on redshift
                        subnets. If empty, Name tags are generated
                      items:
                        type: string
                      type: array
                    redshift_subnet_private_dns_hostname_type_on_launch:
                      description:
                        "The type of hostnames to assign to instances in
                        the subnet at launch. For IPv6-only subnets, an instance DNS
                        name must be based on the instance ID. For dual-stack and IPv4-only
                        subnets, you can specify whether DNS names use the instance
                        IPv4 address or the instance ID. Valid values: `ip-name`, `resource-name`"
                      type: string
                    redshift_subnet_suffix:
                      default: redshift
                      description: Suffix to append to redshift subnets name
                      type: string
                    redshift_subnet_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the redshift subnets
                      type: object
                    redshift_subnets:
                      default: null
                      description: A list of redshift subnets inside the VPC
                      items:
                        type: string
                      type: array
                    reuse_nat_ips:
                      default: false
                      description:
                        Should be true if you don't want EIPs to be created
                        for your NAT Gateways and will instead pass them in via the
                        'external_nat_ip_ids' variable
                      type: boolean
                    secondary_cidr_blocks:
                      default: null
                      description:
                        List of secondary CIDR blocks to associate with the
                        VPC to extend the IP Address pool
                      items:
                        type: string
                      type: array
                    single_nat_gateway:
                      default: false
                      description:
                        Should be true if you want to provision a single
                        shared NAT Gateway across all of your private networks
                      type: boolean
                    tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: A map of tags to add to all resources
                      type: object
                    use_ipam_pool:
                      default: false
                      description: Determines whether IPAM pool is used for CIDR allocation
                      type: boolean
                    vpc_block_public_access_exclusions:
                      default: {}
                      description: A map of VPC block public access exclusions
                      type: object
                      x-kubernetes-preserve-unknown-fields: true
                    vpc_block_public_access_options:
                      additionalProperties:
                        type: string
                      default: {}
                      description: A map of VPC block public access options
                      type: object
                    vpc_flow_log_iam_policy_name:
                      default: vpc-flow-log-to-cloudwatch
                      description: Name of the IAM policy
                      type: string
                    vpc_flow_log_iam_policy_use_name_prefix:
                      default: true
                      description:
                        Determines whether the name of the IAM policy (`vpc_flow_log_iam_policy_name`)
                        is used as a prefix
                      type: boolean
                    vpc_flow_log_iam_role_name:
                      default: vpc-flow-log-role
                      description: Name to use on the VPC Flow Log IAM role created
                      type: string
                    vpc_flow_log_iam_role_use_name_prefix:
                      default: true
                      description:
                        Determines whether the IAM role name (`vpc_flow_log_iam_role_name_name`)
                        is used as a prefix
                      type: boolean
                    vpc_flow_log_permissions_boundary:
                      description:
                        The ARN of the Permissions Boundary for the VPC Flow
                        Log IAM Role
                      type: string
                    vpc_flow_log_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the VPC Flow Logs
                      type: object
                    vpc_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the VPC
                      type: object
                    vpn_gateway_az:
                      description: The Availability Zone for the VPN Gateway
                      type: string
                    vpn_gateway_id:
                      default: ""
                      description: ID of VPN Gateway to attach to the VPC
                      type: string
                    vpn_gateway_tags:
                      additionalProperties:
                        type: string
                      default: {}
                      description: Additional tags for the VPN gateway
                      type: object
                  type: object
              type: object
          served: true
          storage: true
  destinationSelectors:
    - matchLabels:
        environment: terraform
  workflows:
    promise:
      configure:
        - apiVersion: platform.kratix.io/v1alpha1
          kind: Pipeline
          metadata:
            name: modules
            namespace: default
          spec:
            containers:
              - image: iheanyi1989/vpc-pipeline-image:v1.0.4
                name: aws
    resource:
      configure:
        - apiVersion: platform.kratix.io/v1alpha1
          kind: Pipeline
          metadata:
            name: vpcpipeline
          spec:
            rbac:
              permissions:
                - apiGroups: [""]
                  verbs: ["*"]
                  resources: ["configmaps"]
            containers:
              - image: iheanyi1989/vpc-pipeline-image:v1.0.4
                name: vpc-runner
                command: ["entrypoint"]
                env:
                  - name: AWS_ACCESS_KEY_ID
                    valueFrom:
                      secretKeyRef:
                        name: aws-creds
                        key: AWS_ACCESS_KEY_ID
                  - name: AWS_SECRET_ACCESS_KEY
                    valueFrom:
                      secretKeyRef:
                        name: aws-creds
                        key: AWS_SECRET_ACCESS_KEY
status: {}
# apiVersion: platform.kratix.io/v1alpha1
# kind: Promise
# metadata:
#   name: example-tf-promise
# spec:
#   destinationSelectors:
#     - matchLabels:
#         environment: terraform
#   api:
#     apiVersion: apiextensions.k8s.io/v1
#     kind: CustomResourceDefinition
#     metadata:
#       name: terraforms.tfe.ske.io
#     spec:
#       group: tfe.ske.io
#       names:
#         kind: Terraform
#         plural: terraforms
#         singular: terraform
#       scope: Namespaced
#       versions:
#         - name: v1alpha1
#           schema:
#             openAPIV3Schema:
#               type: object
#               properties:
#                 spec:
#                   type: object
#                   x-kubernetes-preserve-unknown-fields: true
#           served: true
#           storage: true
#   workflows:
#     promise:
#       configure:
#         - apiVersion: platform.kratix.io/v1alpha1
#           kind: Pipeline
#           metadata:
#             name: promise
#           spec:
#             containers:
#               - image: ghcr.io/syntasso/kratix-pipeline-utility:v0.0.1
#                 name: generate-output
#                 command: ["sh"]
#                 args:
#                   - -c
#                   - |
#                     cat <<EOF > /kratix/output/main.tf
#                     output "promise-configure" {
#                       value = "some-value"
#                     }
#                     EOF
#     resource:
#       configure:
#         - apiVersion: platform.kratix.io/v1alpha1
#           kind: Pipeline
#           metadata:
#             name: resource
#           spec:
#             containers:
#               - image: ghcr.io/syntasso/kratix-pipeline-utility:v0.0.1
#                 name: generate-output
#                 command: ["sh"]
#                 args:
#                   - -c
#                   - |
#                     name=$(yq '.metadata.name' /kratix/input/object.yaml)
#                     name=$(yq '.metadata.namespace' /kratix/input/object.yaml)
#                     cat <<EOF > /kratix/output/${name}-${namespace}.tf
#                     output "${name}-${namespace}-resource-configure" {
#                       value = "some-value"
#                     }
#                     EOF

##############################**********************##############################

